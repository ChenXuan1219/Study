ACK应答级别
0：
生产者发送过来的数据，不需要等待数据落盘应答

1：
生产者发送过来的数据，leader收到数据后应答
问题：应答完成后，还没开始同步副本，leader挂了

-1：
生产者发送过来的数据。leader和isr队列里面的所以节点收齐后数据后应答



数据怎么保证送到生产者
至少一次：ACK级别为-1 + 分区副本大于等于2 + ISR里应答的最小副本数量大于等于2
########################################################################

要求数据不能重复也不能丢失：
开启幂等性

幂等性原理：  Producer不论向Broker发送多少次重复数据，Broker端都只会持久化一条，保证了不重复
精确一次 = 幂等性+至少一次

重复数据的判断标准：具有<PID, Partition, SeqNumber>相同主键的消息提交时，Broker只会持久化一条。其 中PID是Kafka每次重启都会分配一个新的；Partition 表示分区号；Sequence Number是单调自增的。
所以幂等性只能保证的是在单分区单会话内不重复。

enable.idempotence : true(开启)


生产者事务
开启事务，必须开启幂等性


########################################################################

数据乱序